
# 实验环境搭建

完整的实验环境搭建参见 [6.1810 中使用的工具](https://pdos.csail.mit.edu/6.828/2022/tools.html)

值得注意的是 **建议学生不要将 WSL 用于 6.1810**,因为它会大大降低测试速度,导致某些实验室出现意外超时

笔者使用的是 Debian 11 进行的实验, 下面假定读者也是用的是 linux

```bash
sudo apt update
sudo apt-get install git build-essential gdb-multiarch qemu-system-misc gcc-riscv64-linux-gnu binutils-riscv64-linux-gnu
```

下载实验代码

```bash
git clone git://g.csail.mit.edu/xv6-labs-2022
cd xv6-labs-2022
make qemu
```

运行得到大概如下的结果, 

![20230710142010](https://raw.githubusercontent.com/learner-lu/picbed/master/20230710142010.png)

退出 qemu 可以使用 <kbd>ctrl</kbd> + <kbd>a</kbd> 然后按下 <kbd>x</kbd> 

也可以使用 <kbd>ctrl</kbd> + <kbd>a</kbd> 然后按下 <kbd>c</kbd> 进入qemu控制台,然后输入 quit 退出

clangd 中添加 kernel 的头文件路径

```json
{
    "clangd.fallbackFlags": [
        "-I${workspaceFolder}"
    ]
}
```

老师推荐使用 git branch 来进行版本管理, 使用不同的分支完成任务, 不过笔者这里就不新开分支了, 都写在 main 中了
